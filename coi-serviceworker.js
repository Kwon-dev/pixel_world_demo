/*! coi-serviceworker v0.1.6 - MIT License - https://github.com/guest271314/coi-serviceworker */
"undefined"==typeof COI&&(COI={shouldRegister:()=>!0,shouldDeregister:()=>!1,doReload:()=>window.location.reload(),quiet:!1}),"undefined"==typeof window?self.addEventListener("install",e=>e.waitUntil(self.skipWaiting())):(COI.shouldRegister()&&navigator.serviceWorker.register(window.document.currentScript.src,{scope:window.location.pathname.substring(0,window.location.pathname.lastIndexOf("/")+1)}).then(e=>{COI.quiet||console.log("COOP/COEP Service Worker registered",e.scope),e.addEventListener("updatefound",()=>{const o=e.installing;o.addEventListener("statechange",()=>{"installed"===o.state&&navigator.serviceWorker.controller&&(COI.quiet||console.log("COOP/COEP Service Worker updated, reloading"),COI.doReload())})})}),COI.shouldDeregister()&&navigator.serviceWorker.getRegistrations().then(e=>{for(const o of e)o.unregister()}));